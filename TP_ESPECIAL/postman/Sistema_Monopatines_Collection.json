{
	"info": {
		"_postman_id": "b2c3d4e5-f6g7-8901-bcde-fg1234567891",
		"name": "Sistema Monopatines - TP Especial V2",
		"description": "Colecci√≥n AUTOMATIZADA con captura de IDs y autenticaci√≥n JWT. Todos los endpoints requieren autenticaci√≥n excepto crear usuario y autenticarse.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "0. Autenticaci√≥n JWT",
			"item": [
				{
					"name": "0.1 Crear Usuario ADMIN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('ADMIN_USER_ID', jsonData.id);",
									"    console.log('‚úÖ Usuario ADMIN creado con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Admin\",\n  \"apellido\": \"Sistema\",\n  \"celular\": \"9999999999\",\n  \"email\": \"admin@test.com\",\n  \"password\": \"admin123\",\n  \"rol\": \"ADMIN\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios"]
						},
						"description": "Crear usuario con rol ADMIN. Este endpoint es p√∫blico (no requiere autenticaci√≥n)."
					}
				},
				{
					"name": "0.2 Crear Usuario USUARIO",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('USER_USER_ID', jsonData.id);",
									"    console.log('‚úÖ Usuario USUARIO creado con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Usuario\",\n  \"apellido\": \"Test\",\n  \"celular\": \"8888888888\",\n  \"email\": \"user@test.com\",\n  \"password\": \"user123\",\n  \"rol\": \"USUARIO\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios"]
						},
						"description": "Crear usuario con rol USUARIO. Este endpoint es p√∫blico (no requiere autenticaci√≥n)."
					}
				},
				{
					"name": "0.3 Autenticarse como ADMIN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('ADMIN_TOKEN', jsonData.id_token);",
									"    console.log('‚úÖ Token ADMIN obtenido: ' + jsonData.id_token.substring(0, 50) + '...');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"admin@test.com\",\n  \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/authenticate",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "authenticate"]
						},
						"description": "Autenticarse como ADMIN y obtener token JWT. El token se guarda autom√°ticamente en la variable ADMIN_TOKEN."
					}
				},
				{
					"name": "0.4 Autenticarse como USUARIO",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('USER_TOKEN', jsonData.id_token);",
									"    console.log('‚úÖ Token USUARIO obtenido: ' + jsonData.id_token.substring(0, 50) + '...');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"user@test.com\",\n  \"password\": \"user123\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/authenticate",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "authenticate"]
						},
						"description": "Autenticarse como USUARIO y obtener token JWT. El token se guarda autom√°ticamente en la variable USER_TOKEN."
					}
				}
			],
			"description": "‚ö†Ô∏è IMPORTANTE: Ejecutar esta secci√≥n PRIMERO para obtener tokens JWT. Los tokens se guardan autom√°ticamente en variables de entorno."
		},
		{
			"name": "1. Setup Inicial - Crear Datos Base",
			"item": [
				{
					"name": "1.1 Crear Tarifa Inicial",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('TARIFA_ID_1', jsonData.id);",
									"    console.log('‚úÖ Tarifa creada con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"montoBase\": 50.0,\n  \"montoExtra\": 100.0,\n  \"fechaVigencia\": \"2025-01-01\",\n  \"activa\": true,\n  \"descripcion\": \"Tarifa Inicial 2025\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/tarifas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "tarifas"]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Usa token de ADMIN_TOKEN."
					}
				},
				{
					"name": "1.2 Crear Parada 1 - Centro",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('PARADA_ID_1', jsonData.id);",
									"    console.log('‚úÖ Parada 1 creada con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Parada Centro\",\n  \"latitud\": -37.3217,\n  \"longitud\": -59.1332\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/paradas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "paradas"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.3 Crear Parada 2 - Plaza",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('PARADA_ID_2', jsonData.id);",
									"    console.log('‚úÖ Parada 2 creada con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Parada Plaza\",\n  \"latitud\": -37.3250,\n  \"longitud\": -59.1380\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/paradas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "paradas"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.4 Crear Usuario 1 - Juan",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('USUARIO_ID_1', jsonData.id);",
									"    console.log('‚úÖ Usuario 1 creado/existente con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Juan\",\n  \"apellido\": \"P√©rez\",\n  \"celular\": \"2234567890\",\n  \"email\": \"juan.perez@example.com\",\n  \"password\": \"juan123\",\n  \"rol\": \"USUARIO\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios"]
						},
						"description": "‚ö†Ô∏è Este endpoint es P√öBLICO (no requiere autenticaci√≥n). Se usa para crear usuarios."
					}
				},
				{
					"name": "1.5 Crear Usuario 2 - Mar√≠a",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('USUARIO_ID_2', jsonData.id);",
									"    console.log('‚úÖ Usuario 2 creado/existente con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Mar√≠a\",\n  \"apellido\": \"Garc√≠a\",\n  \"celular\": \"2234567891\",\n  \"email\": \"maria.garcia@example.com\",\n  \"password\": \"maria123\",\n  \"rol\": \"USUARIO\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios"]
						},
						"description": "‚ö†Ô∏è Este endpoint es P√öBLICO (no requiere autenticaci√≥n). Se usa para crear usuarios."
					}
				},
				{
					"name": "1.6 Crear Cuenta B√ÅSICA",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('CUENTA_ID_1', jsonData.id);",
									"    console.log('‚úÖ Cuenta B√ÅSICA creada con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"idCuentaMercadoPago\": 100001,\n  \"tipoCuenta\": \"BASICA\",\n  \"saldoInicial\": 5000.00\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.7 Crear Cuenta PREMIUM",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('CUENTA_ID_2', jsonData.id);",
									"    console.log('‚úÖ Cuenta PREMIUM creada con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"idCuentaMercadoPago\": 100002,\n  \"tipoCuenta\": \"PREMIUM\",\n  \"saldoInicial\": 10000.00\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.8 Asociar Usuario 1 a Cuenta 1",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios/{{USUARIO_ID_1}}/cuentas/{{CUENTA_ID_1}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios", "{{USUARIO_ID_1}}", "cuentas", "{{CUENTA_ID_1}}"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.9 Asociar Usuario 2 a Cuenta 2",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios/{{USUARIO_ID_2}}/cuentas/{{CUENTA_ID_2}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios", "{{USUARIO_ID_2}}", "cuentas", "{{CUENTA_ID_2}}"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.10 Crear Monopat√≠n 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('MONOPATIN_ID_1', jsonData.id);",
									"    console.log('‚úÖ Monopat√≠n 1 creado con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"latitud\": -37.3217,\n  \"longitud\": -59.1332,\n  \"estado\": \"DISPONIBLE\",\n  \"idParadaActual\": null\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				},
				{
					"name": "1.11 Crear Monopat√≠n 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('MONOPATIN_ID_2', jsonData.id);",
									"    console.log('‚úÖ Monopat√≠n 2 creado con ID: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"latitud\": -37.3250,\n  \"longitud\": -59.1380,\n  \"estado\": \"DISPONIBLE\",\n  \"idParadaActual\": null\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol). Usa token de USER_TOKEN o ADMIN_TOKEN."
					}
				}
			]
		},
		{
			"name": "2. Gesti√≥n de Viajes - FLUJO COMPLETO",
			"item": [
				{
					"name": "2.1 Iniciar Viaje",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('VIAJE_ID_ACTUAL', jsonData.id);",
									"    console.log('‚úÖ Viaje creado con ID: ' + jsonData.id);",
									"    console.log('üìå Usar este ID en los siguientes requests');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"monopatinId\": {{MONOPATIN_ID_1}},\n  \"usuarioId\": {{USUARIO_ID_1}},\n  \"tarifaId\": {{TARIFA_ID_1}},\n  \"paradaInicioId\": {{PARADA_ID_1}}\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes"]
						},
						"description": "Iniciar viaje. Requiere autenticaci√≥n (cualquier rol). El ID se captura autom√°ticamente y se usa en los siguientes requests."
					}
				},
				{
					"name": "2.2 Pausar Viaje",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_ID_ACTUAL}}/pausa/iniciar",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_ID_ACTUAL}}", "pausa", "iniciar"]
						},
						"description": "Pausar el viaje. Requiere autenticaci√≥n (cualquier rol). Usa autom√°ticamente el ID del viaje creado en 2.1"
					}
				},
				{
					"name": "2.3 Reanudar Viaje (Finalizar Pausa)",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_ID_ACTUAL}}/pausa/finalizar",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_ID_ACTUAL}}", "pausa", "finalizar"]
						},
						"description": "Reanudar viaje. Requiere autenticaci√≥n (cualquier rol). Si la pausa dur√≥ >15 min, se marca como extensa."
					}
				},
				{
					"name": "2.4 Mover Monopat√≠n a Parada Destino",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"console.log('‚úÖ Monopat√≠n movido a parada destino (simulando GPS)');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_1}}/ubicacion?latitud=-37.3250&longitud=-59.1380",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_1}}", "ubicacion"],
							"query": [
								{"key": "latitud", "value": "-37.3250"},
								{"key": "longitud", "value": "-59.1380"}
							]
						},
						"description": "Actualiza ubicaci√≥n GPS del monopat√≠n. Requiere autenticaci√≥n (cualquier rol). Actualiza ubicaci√≥n GPS del monopat√≠n a la parada destino para poder finalizar el viaje."
					}
				},
				{
					"name": "2.5 Finalizar Viaje (‚úÖ GPS Validado)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    console.log('‚úÖ Viaje finalizado con ID: ' + jsonData.id);",
									"    console.log('‚úÖ GPS validado correctamente');",
									"    console.log('‚úÖ Factura generada autom√°ticamente');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paradaFin\": {{PARADA_ID_2}},\n  \"kmRecorridos\": 5.5\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_ID_ACTUAL}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_ID_ACTUAL}}"]
						},
						"description": "Finalizar viaje. Requiere autenticaci√≥n (cualquier rol). Valida GPS (monopat√≠n debe estar <50m de parada), genera factura y descuenta saldo autom√°ticamente."
					}
				},
				{
					"name": "2.6 Verificar Saldo Descontado",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/{{CUENTA_ID_1}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "{{CUENTA_ID_1}}"]
						},
						"description": "Verificar que el saldo se descont√≥ autom√°ticamente despu√©s del viaje. Requiere autenticaci√≥n (cualquier rol)."
					}
				}
			],
			"description": "Flujo completo de viaje AUTOMATIZADO. Los IDs se capturan y usan autom√°ticamente."
		},
		{
			"name": "2A. Test Validaci√≥n GPS",
			"item": [
				{
					"name": "2A.0 Preparar Monopat√≠n en Parada 1",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_1}}/ubicacion?latitud=-37.3217&longitud=-59.1332",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_1}}", "ubicacion"],
							"query": [
								{"key": "latitud", "value": "-37.3217"},
								{"key": "longitud", "value": "-59.1332"}
							]
						},
						"description": "Asegurar que el monopat√≠n est√© en Parada 1 (Centro) antes del test GPS."
					}
				},
				{
					"name": "2A.1 Iniciar Viaje para GPS Test",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('VIAJE_GPS_TEST_ID', jsonData.id);",
									"    console.log('Viaje GPS test iniciado: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"monopatinId\": {{MONOPATIN_ID_1}},\n  \"usuarioId\": {{USUARIO_ID_1}},\n  \"tarifaId\": {{TARIFA_ID_1}},\n  \"paradaInicioId\": {{PARADA_ID_1}}\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes"]
						},
						"description": "Iniciar viaje en Parada 1 (Centro)."
					}
				},
				{
					"name": "2A.2 Intentar Finalizar LEJOS (Debe Fallar)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('GPS Validation Works', function () {",
									"    pm.response.to.have.status(400);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.message).to.include('metros');",
									"    console.log('Validaci√≥n GPS funcionando: ' + jsonData.message);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paradaFin\": {{PARADA_ID_2}},\n  \"kmRecorridos\": 5.5\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_GPS_TEST_ID}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_GPS_TEST_ID}}"]
						},
						"description": "Intentar finalizar en parada lejana. Debe fallar con error de GPS."
					}
				},
				{
					"name": "2A.3 Mover Monopat√≠n a Parada Correcta",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_1}}/ubicacion?latitud=-37.3250&longitud=-59.1380",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_1}}", "ubicacion"],
							"query": [
								{"key": "latitud", "value": "-37.3250"},
								{"key": "longitud", "value": "-59.1380"}
							]
						},
						"description": "Mover monopat√≠n a Parada 2 para que pase validaci√≥n GPS."
					}
				},
				{
					"name": "2A.4 Finalizar Viaje (GPS OK)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Trip Ended Successfully', function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.horaFin).to.not.be.null;",
									"    console.log('Viaje finalizado correctamente (GPS validado)');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paradaFin\": {{PARADA_ID_2}},\n  \"kmRecorridos\": 5.5\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_GPS_TEST_ID}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_GPS_TEST_ID}}"]
						},
						"description": "Finalizar viaje con monopat√≠n en parada correcta. Debe funcionar."
					}
				}
			],
			"description": "Tests de validaci√≥n GPS: rechaza si est√° lejos, acepta si est√° cerca de la parada."
		},
		{
			"name": "2B. Tests Cuenta PREMIUM",
			"item": [
				{
					"name": "2B.1 Preparar Monopat√≠n",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_1}}/estado?estado=DISPONIBLE",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_1}}", "estado"],
							"query": [{"key": "estado", "value": "DISPONIBLE"}]
						}
					}
				},
				{
					"name": "2B.2 Iniciar Viaje Premium (<100km)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('VIAJE_PREMIUM_ID', jsonData.id);",
									"    console.log('‚úÖ Viaje Premium iniciado: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"monopatinId\": {{MONOPATIN_ID_1}},\n  \"usuarioId\": {{USUARIO_ID_2}},\n  \"tarifaId\": {{TARIFA_ID_1}},\n  \"paradaInicioId\": {{PARADA_ID_1}}\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes"]
						},
						"description": "Iniciar viaje con cuenta PREMIUM (deber√≠a ser GRATIS si <100km del mes)."
					}
				},
				{
					"name": "2B.3 Mover a Parada (GPS)",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_1}}/ubicacion?latitud=-37.3217&longitud=-59.1332",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_1}}", "ubicacion"],
							"query": [
								{"key": "latitud", "value": "-37.3217"},
								{"key": "longitud", "value": "-59.1332"}
							]
						}
					}
				},
				{
					"name": "2B.4 Finalizar Viaje Premium (Gratis)",
					"request": {
						"method": "PUT",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paradaFin\": {{PARADA_ID_1}},\n  \"kmRecorridos\": 8.0\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_PREMIUM_ID}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_PREMIUM_ID}}"]
						},
						"description": "Finalizar viaje Premium. Monto $0 si <100km del mes."
					}
				},
				{
					"name": "2B.5 Verificar Viaje Gratis",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/{{CUENTA_ID_2}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "{{CUENTA_ID_2}}"]
						},
						"description": "Verificar que saldo no cambi√≥ y km se actualizaron."
					}
				},
				{
					"name": "2B.6 Actualizar a 100km",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/{{CUENTA_ID_2}}/kilometros?kilometros=92",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "{{CUENTA_ID_2}}", "kilometros"],
							"query": [{"key": "kilometros", "value": "92"}]
						},
						"description": "Simular que la cuenta lleg√≥ a 100km para probar descuento 50%."
					}
				},
				{
					"name": "2B.7 Preparar Monopat√≠n Again",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_1}}/estado?estado=DISPONIBLE",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_1}}", "estado"],
							"query": [{"key": "estado", "value": "DISPONIBLE"}]
						}
					}
				},
				{
					"name": "2B.8 Iniciar Viaje Premium (>100km)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set('VIAJE_PREMIUM_DESC_ID', jsonData.id);",
									"    console.log('‚úÖ Viaje Premium >100km iniciado: ' + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"monopatinId\": {{MONOPATIN_ID_1}},\n  \"usuarioId\": {{USUARIO_ID_2}},\n  \"tarifaId\": {{TARIFA_ID_1}},\n  \"paradaInicioId\": {{PARADA_ID_1}}\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes"]
						}
					}
				},
				{
					"name": "2B.9 Finalizar Viaje (50% Descuento)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log('‚úÖ Viaje finalizado con 50% descuento aplicado');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paradaFin\": {{PARADA_ID_1}},\n  \"kmRecorridos\": 10.0\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/{{VIAJE_PREMIUM_DESC_ID}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "{{VIAJE_PREMIUM_DESC_ID}}"]
						},
						"description": "Finalizar viaje con >100km. Aplica 50% descuento autom√°ticamente."
					}
				},
				{
					"name": "2B.10 Verificar Descuento 50%",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/facturas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "facturas"]
						},
						"description": "Verificar que el monto es 50% del normal (ejemplo: $50 ‚Üí $25)."
					}
				}
			],
			"description": "Tests espec√≠ficos para funcionalidad Premium: viajes gratis <100km y 50% descuento >100km."
		},
		{
			"name": "2C. Tests Admin - Reportes",
			"item": [
				{
					"name": "2C.1 Reporte Usuarios Frecuentes",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios/reporte/usuarios-frecuentes?desde=2025-01-01&hasta=2025-12-31",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios", "reporte", "usuarios-frecuentes"],
							"query": [
								{"key": "desde", "value": "2025-01-01"},
								{"key": "hasta", "value": "2025-12-31"}
							]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Reporte de usuarios m√°s frecuentes. MOVIDO a microservice-user."
					}
				},
				{
					"name": "2C.2 Reporte Usuarios por Tipo PREMIUM",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios/reporte/usuarios-frecuentes?desde=2025-01-01&hasta=2025-12-31&tipoCuenta=PREMIUM",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios", "reporte", "usuarios-frecuentes"],
							"query": [
								{"key": "desde", "value": "2025-01-01"},
								{"key": "hasta", "value": "2025-12-31"},
								{"key": "tipoCuenta", "value": "PREMIUM"}
							]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Filtrar usuarios frecuentes solo de cuentas PREMIUM. MOVIDO a microservice-user."
					}
				},
				{
					"name": "2C.3 Total Facturado (Meses)",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/facturas/reporte/total-facturado?anio=2025&mesInicio=1&mesFin=12",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "facturas", "reporte", "total-facturado"],
							"query": [
								{"key": "anio", "value": "2025"},
								{"key": "mesInicio", "value": "1"},
								{"key": "mesFin", "value": "12"}
							]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Total facturado en rango de meses. Ya existe en microservice-facturacion."
					}
				},
				{
					"name": "2C.4 Anular Cuenta",
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/{{CUENTA_ID_1}}/deshabilitar",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "{{CUENTA_ID_1}}", "deshabilitar"]
						},
						"description": "Anular/deshabilitar una cuenta de usuario. Requiere autenticaci√≥n (cualquier rol)."
					}
				},
				{
					"name": "2C.5 Definir Precio Vigente",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"precioKm\": 60.0,\n  \"precioMin\": 12.0,\n  \"moneda\": \"ARS\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/tarifas/precios",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "tarifas", "precios"]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Definir nuevo precio vigente. MOVIDO a microservice-tarifas."
					}
				},
				{
					"name": "2C.6 Programar Ajuste de Precio",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"precioKm\": 70.0,\n  \"precioMin\": 15.0,\n  \"extraPausaMultiplicador\": 2.0,\n  \"efectivaDesde\": \"2025-12-01T00:00:00Z\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/tarifas/precios/ajustes",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "tarifas", "precios", "ajustes"]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Programar ajuste de precio futuro (se aplica autom√°ticamente). MOVIDO a microservice-tarifas."
					}
				}
			],
			"description": "Tests de funcionalidades administrativas y reportes."
		},
		{
			"name": "3. Funcionalidad A - Reporte Kil√≥metros",
			"item": [
				{
					"name": "A.1 Reporte CON Pausas",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/reporte/kilometros?incluirPausas=true",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "reporte", "kilometros"],
							"query": [{"key": "incluirPausas", "value": "true"}]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				},
				{
					"name": "A.2 Reporte SIN Pausas",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/reporte/kilometros?incluirPausas=false",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "reporte", "kilometros"],
							"query": [{"key": "incluirPausas", "value": "false"}]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				}
			]
		},
		{
			"name": "4. Funcionalidad B - Anular Cuentas",
			"item": [
				{
					"name": "B.1 Deshabilitar Cuenta (Anular)",
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/{{CUENTA_ID_1}}/deshabilitar",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "{{CUENTA_ID_1}}", "deshabilitar"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				},
				{
					"name": "B.2 Habilitar Cuenta",
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/{{CUENTA_ID_1}}/habilitar",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "{{CUENTA_ID_1}}", "habilitar"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				},
				{
					"name": "B.3 Ver Cuentas por Estado",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas/estado/false?page=0&size=10",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas", "estado", "false"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"}
							]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				}
			]
		},
		{
			"name": "5. Funcionalidad C - Monopatines con X Viajes",
			"item": [
				{
					"name": "C.1 Monopatines con m√°s de X viajes",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/reporte/viajes?cantidad=0",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "reporte", "viajes"],
							"query": [{"key": "cantidad", "value": "0"}]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN. Cambiar 'cantidad' a 1, 2, 5, etc. para filtrar"
					}
				}
			]
		},
		{
			"name": "6. Funcionalidad D - Total Facturado",
			"item": [
				{
					"name": "D.1 Total Facturado - Rango Meses",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/facturas/reporte/total-facturado?mesInicio=1&mesFin=12&anio=2025",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "facturas", "reporte", "total-facturado"],
							"query": [
								{"key": "mesInicio", "value": "1"},
								{"key": "mesFin", "value": "12"},
								{"key": "anio", "value": "2025"}
							]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				},
				{
					"name": "D.2 Total Facturado - Primer Trimestre",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/facturas/reporte/total-facturado?mesInicio=1&mesFin=3&anio=2025",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "facturas", "reporte", "total-facturado"],
							"query": [
								{"key": "mesInicio", "value": "1"},
								{"key": "mesFin", "value": "3"},
								{"key": "anio", "value": "2025"}
							]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				}
			]
		},
		{
			"name": "7. Funcionalidad F - Ajuste de Precios",
			"item": [
				{
					"name": "F.1 Crear Nueva Tarifa con Fecha Futura",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"montoBase\": 60.0,\n  \"montoExtra\": 120.0,\n  \"fechaVigencia\": \"2025-06-01\",\n  \"activa\": true,\n  \"descripcion\": \"Ajuste de Precios - Verano 2025\"\n}"
						},
						"url": {
							"raw": "{{BASE_URL}}/api/tarifas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "tarifas"]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				},
				{
					"name": "F.2 Ver Tarifa Activa Actual",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/tarifas/activa",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "tarifas", "activa"]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				},
				{
					"name": "F.3 Ver Todas las Tarifas",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/tarifas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "tarifas"]
						},
						"description": "‚ö†Ô∏è Requiere rol ADMIN."
					}
				}
			]
		},
		{
			"name": "8. Funcionalidad G - Monopatines Cercanos",
			"item": [
				{
					"name": "G.1 Buscar Monopatines Cercanos (5km)",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/cercanos?latitud=-37.3217&longitud=-59.1332&radioKm=5.0",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "cercanos"],
							"query": [
								{"key": "latitud", "value": "-37.3217"},
								{"key": "longitud", "value": "-59.1332"},
								{"key": "radioKm", "value": "5.0"}
							]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				},
				{
					"name": "G.2 Buscar Monopatines Cercanos (2km)",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/cercanos?latitud=-37.3250&longitud=-59.1380&radioKm=2.0",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "cercanos"],
							"query": [
								{"key": "latitud", "value": "-37.3250"},
								{"key": "longitud", "value": "-59.1380"},
								{"key": "radioKm", "value": "2.0"}
							]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				}
			]
		},
		{
			"name": "9. Funcionalidad H - Uso por Usuario",
			"item": [
				{
					"name": "H.1 Viajes de Usuario en Per√≠odo",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/reportes/usuario/{{USUARIO_ID_1}}/periodo?inicio=2025-01-01T00:00:00&fin=2025-12-31T23:59:59",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "reportes", "usuario", "{{USUARIO_ID_1}}", "periodo"],
							"query": [
								{"key": "inicio", "value": "2025-01-01T00:00:00"},
								{"key": "fin", "value": "2025-12-31T23:59:59"}
							]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				},
				{
					"name": "H.2 Todos los Viajes de Usuario",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/viajes/reportes/usuario/{{USUARIO_ID_1}}",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "viajes", "reportes", "usuario", "{{USUARIO_ID_1}}"]
						},
						"description": "Requiere autenticaci√≥n (cualquier rol)."
					}
				}
			]
		},
		{
			"name": "10. Gesti√≥n de Mantenimiento",
			"item": [
				{
					"name": "10.1 Marcar Monopat√≠n en Mantenimiento",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_2}}/mantenimiento",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_2}}", "mantenimiento"]
						}
					}
				},
				{
					"name": "10.2 Sacar Monopat√≠n de Mantenimiento",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines/{{MONOPATIN_ID_2}}/mantenimiento/finalizar",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines", "{{MONOPATIN_ID_2}}", "mantenimiento", "finalizar"]
						}
					}
				}
			]
		},
		{
			"name": "11. Consultas Adicionales",
			"item": [
				{
					"name": "Ver Todos los Monopatines",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/monopatines",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "monopatines"]
						}
					}
				},
				{
					"name": "Ver Todas las Paradas",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/paradas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "paradas"]
						}
					}
				},
				{
					"name": "Ver Todos los Usuarios",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios?page=0&size=20",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "20"}
							]
						}
					}
				},
				{
					"name": "Ver Todas las Cuentas",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/cuentas?page=0&size=20",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "cuentas"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "20"}
							]
						}
					}
				},
				{
					"name": "Ver Todas las Facturas",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{ADMIN_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/facturas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "facturas"]
						}
					}
				},
				{
					"name": "Ver Cuentas de un Usuario",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{USER_TOKEN}}"}
						],
						"url": {
							"raw": "{{BASE_URL}}/api/usuarios/{{USUARIO_ID_1}}/cuentas",
							"host": ["{{BASE_URL}}"],
							"path": ["api", "usuarios", "{{USUARIO_ID_1}}", "cuentas"]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "BASE_URL",
			"value": "http://localhost:8080",
			"type": "string"
		}
	]
}

